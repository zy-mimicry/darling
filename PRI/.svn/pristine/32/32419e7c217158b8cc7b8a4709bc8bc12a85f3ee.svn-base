<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>QTI Info</title>     
	<meta http-equiv="X-UA-Compatible" content="IE=8"/>
    <link href="../LigerUI/lib/ligerUI/skins/Aqua/css/ligerui-all.css" rel="stylesheet" type="text/css" />
    <link href="../LigerUI/lib/ligerUI/skins/Gray2014/css/all.css" rel="stylesheet" />
    <script src="../LigerUI/lib/jquery/jquery-1.9.0.min.js" type="text/javascript"></script>
    <script src="../LigerUI/lib/ligerUI/js/ligerui.all.js"></script>
    <script src="../LigerUI/lib/jquery-validation/jquery.validate.min.js"></script>
    <script src="../LigerUI/lib/jquery-validation/jquery.metadata.js"></script>
    <script src="../LigerUI/lib/jquery-validation/messages_cn.js"></script>
    <script type="text/javascript">
        $(function ()
        {
           // $("#form1").ligerForm({
            //    validate: true
            //});
        });

 
    </script>
    <style type="text/css">
            body
            {
                padding-left:10px;
                font-size:13px;
            }
            h1
            {
                font-size:20px;
                font-family:Verdana;
            }
            h4
            {
                font-size:16px;
                margin-top:25px;
                margin-bottom:10px;
            }

            .description
            {
                padding-bottom:30px;
                font-family:Verdana;
            }
            .description h3
            {
                color:#CC0000;
                font-size:16px;
                margin:0 30px 10px 0px;
                padding:45px 0 8px;
                border-bottom:solid 1px #888;
            }
        td {
            padding: 5px;
        }
        input {
            word-wrap:normal;
            width:300px
        }
        select {
            word-wrap:normal;
            width:304px
        }
        textarea {
            word-wrap:normal;
            width:713px
        }

    </style>

</head>

<body style="padding:10px">
 
     <h1>QTI Info</h1><font color=red>{{err|safe}}</font>
       

    <form id="form1" name="form1" method="post" action="/pri_db/?">
        <table>
                    {% csrf_token %}
                    <input id="op"  name="op" type="hidden" value='update'    />
                    <input id="tb"  name="tb" type="hidden" value='qti_list'    />
            <tr>
                <td><label >ID:</label></td>
                <td><input id="id" name="id" type="text"  value="{{id}}"/></td>
                <td><label><a href='https://issues.sierrawireless.com/browse/{{Key}}' target=__blank>Ticket ID</a>:</label></td>
                <td><input id="Key" name="Key" type="text" value="{{Key}}" /></td>
            </tr>
            <tr>
                <td><label >Summary:</label></td>
                <td colspan=3><textarea id="Summary" name="Summary" class="ui_textarea" rows=2 style="height:40px;"  >{{Summary}}</textarea></td>
            </tr>
            <tr>
                <td><label >NV/EFS:</label></td>
                <td colspan=3><textarea id="NV_EFS" name="NV_EFS" class="ui_textarea" rows=1 style="height:20px;"   >{{NV_EFS}}</textarea></td>
            </tr>
            
            <tr>
                <td><label>Carrier Customer: <font color=red>*</font></label></td>
                <td><input id="CarrierCustomer"  name="CarrierCustomer" type="text" class="ui-textbox"   value="{{CarrierCustomer}}" onclick="f_open()"   /></td>
                <td><label >Duplicated:</label></td>
                <td><input id="Duplicated" name="Duplicated" type="text"   value="{{Duplicated}}"/></td>
            </tr>
            <tr>
                <td><label>Operation: <font color=red>*</font></label></td>
                <td>
                  <select id="Operation" name="Operation" validate="{required:true}" >
                    <option value="" >None</option>
                    <option value="add" >Add</option>
                    <option value="Update">Update</option>
                    <option value="Remove">Remove</option>
                </select>
                </td>
                <td><label>Category: <font color=red>*</font></label></td>
                <td>
                  <select id="Category" name="Category" validate="{required:true}" >
                    <option value="" >None</option>
                    <option value="customer" >customer</option>
                    <option value="Carrier">Carrier</option>
                </select>
                </td>
            </tr>
            <tr>
                <td><label>Status: <font color=red>*</font></label></td>
                <td>
                <!--input id="Status" name="Status" type="text" validate="{required:true}"  value="{{Status}}"/-->
                  <select id="Status" name="Status" validate="{required:true}" >
                    <option value="" >None</option>
                    <option value="New" >qti-New</option>
                    <option value="Analysis">qti-Analysis</option>
                    <option value="CCB" >qti-CCB</option>
                    <option value="Assigned">qti-Assigned</option>
                    <option value="In Review">qti-In Review</option>
                    <option value="Checked In">qti-Checked In</option>
                    <option value="Integrated">Integrated</option>
                    <option value="Closed">Closed</option>
                    <option value="Open">Open</option>
                    <option value="In Progress">In Progress</option>
                    <option value="Generated">Generated</option>
                    <option value="Tested">Tested</option>
                    <option value="Reviewed">Reviewed</option>
                    <option value="Validated">Validated</option>
                </select>
                </td>
                </td>
                <td><label>ReviewID:</label></td>
                <td><input id="ReviewID" name="ReviewID" type="text" validate="{required:true}" value="{{ReviewID}}" /></td>
            </tr>
            <tr>
                <td><label>ReviewStatus:</label></td>
                <td>
                  <select id="ReviewStatus" name="ReviewStatus" validate="{required:true}" >
                    <option value="" >None</option>
                    <option value="Reviewing" >Reviewing</option>
                    <option value="Reviewed">Reviewed</option>
                </select>
                </td>
                <td><label>AttachStatus:</label></td>
                <td>
                  <select id="AttachStatus" name="AttachStatus" validate="{required:true}" >
                    <option value="" >None</option>
                    <option value="Valid" >Valid</option>
                    <option value="Invalid">Invalid</option>
                </select>
                </td>
            </tr>
            <tr>
                <td><label>BuildStatus:</label></td>
                <td>
                  <select id="BuildStatus" name="BuildStatus" validate="{required:true}" >
                    <option value="" >None</option>
                    <option value="Building">Building</option>
                    <option value="Built">Built</option>
                    <option value="Error">Error</option>
                </select>
                </td>
                <td><label>TestStatus:</label></td>
                <td>
                  <select id="TestStatus" name="TestStatus" validate="{required:true}" >
                    <option value="" >None</option>
                    <option value="Testing">Testing</option>
                    <option value="Tested">Tested</option>
                    <option value="Error">Error</option>
                </select>
                </td>
            </tr>
            <tr>
                <td><label>MergeStatus:</label></td>
                <td>
                  <select id="MergeStatus" name="MergeStatus" validate="{required:true}" >
                    <option value="" >None</option>
                    <option value="Merging" >Merging</option>
                    <option value="Merged">Merged</option>
                    <option value="Error">Error</option>
                </select>
                </td>
                <td><label></label></td>
                <td>
                </td>
            </tr>
            <tr>
                <td><label>KeyWord:</label></td>
                <td><input id="KeyWord" name="KeyWord" type="text" validate="{required:true}"  value="{{KeyWord}}"/></td>
                <td><label>ApplySKU:</label></td>
                <td><input id="ApplySKU" name="ApplySKU" type="text" validate="{required:true}" value="{{ApplySKU}}" /></td>
            </tr>
            <tr>
                <td><label>CreatedDate:</label></td>
                <td><input id="CreatedDate" name="CreatedDate" type="text" validate="{required:true}"  value="{{CreatedDate}}"/></td>
                <td><label>DueDate:</label></td>
                <td><input id="DueDate" name="DueDate" type="text" validate="{required:true}" value="{{DueDate}}" /></td>
            </tr>
            <!--tr>
                <td><label>PlanDueDate:</label></td>
                <td><input id="PlanDueDate" name="PlanDueDate" type="text" validate="{required:true}"  value="{{PlanDueDate}}"/></td>
                <td><label>RealDueDate:</label></td>
                <td><input id="RealDueDate" name="RealDueDate" type="text" validate="{required:true}" value="{{RealDueDate}}" /></td>
            </tr-->
            <tr>
                <td><label>Assignee:</label></td>
                <td><input id="Assignee" name="Assignee" type="text" validate="{required:true}"  value="{{Assignee}}"/></td>
                <td><label>Reporter:</label></td>
                <td><input id="Reporter" name="Reporter" type="text" validate="{required:true}" value="{{Reporter}}" /></td>
            </tr>
            <tr>
                <td><label>Components:</label></td>
                <td><input id="Components" name="Components" type="text" validate="{required:true}"  value="{{Components}}"/></td>
                <td><label >FixVersion:</label></td>
                <td><input id="FixVersion" name="FixVersion" type="text"   value="{{FixVersion}}"/></td>
                <!--td><label>Week:</label></td>
                <td><input id="Week" name="Week" type="text" validate="{required:true}" value="{{Week}}" /></td-->
            </tr>
            <tr>
                <td><label >Description:</label></td>
                <td colspan=3><textarea id="Description" name="Description" class="ui_textarea" rows=2  style="height:40px;"  >{{Description}}</textarea></td>
            </tr>

            <tr>
                <td colspan=4 align="center"> 
                    <input value="update" type="submit" style="word-wrap:normal;width:80px;" />
                    <input value="close" type="button" style="word-wrap:normal;width:80px;" onclick="ligerDialog_close();" />
                    <!--input value="getData" type="button" style="word-wrap:normal;width:80px;" onclick="getData()" /-->
                    <!--input value="jquery data" type="button" style="word-wrap:normal;width:80px;" onclick="submitForm()" /-->
                    
                </td>
            </tr>
        </table>
    </form>
    <p>
    <!--textarea id="result_textarea" style="display:{{rltdisp}};width:837px" rows=15 >{{rlt}}</textarea-->
    </p>
     
 <script type="text/javascript">
   
     function ligerDialog_close()
     {
        parent.$.ligerDialog.close(); //关闭弹出窗; //关闭弹出窗
        parent.$(".l-dialog,.l-window-mask").css("display","none"); //只隐藏遮罩层
     }
     function valid()
     {
         var form = new liger.get("form1");
         alert(form.valid());
     }
     function getData()
     {
         var form = new liger.get("form1");
         var data = form.getData();
         alert(JSON.stringify(data));
     }
        function f_open()
        {
            $.ligerDialog.open({
                height:350,
                width: 400,
                title : 'Please Select Carrier and Customer',
                url: '/test_select/test_select_data.htm', 
                showMax: false,
                showToggle: true,
                showMin: false,
                isResize: true,
                slide: false,
                //onClose :function (item, dialog) { if (this.frame.isdirty) {f_toggleex();}},
                onLoaded :function (item, dialog) { this.frame.set_dialog(this);},
                buttons:[
                    { text:'OK',
                        onclick:function (item, dialog) { 
                            dialog.frame.f_ok();
                            //dialog.close();
                        }}, 
                    { text: 'CLOSE', onclick: function (item, dialog) {dialog.close();}},
                    ],
                data:{
                    checkbox:[
                    {name:'Product',text:'{{pro_list|safe}}',ctrl:'CarrierCustomer'},
                    {name:'Customer',text:'{{cus_list|safe}}',value:'',ctrl:'CarrierCustomer'},
                    ],
                    //inputbox:[
                    //{name:'Status2',text:'1;2;3;4;5;6',ctrl:'Duplicated'},
                   // ],
                },
            });
        }
      

     function submitForm()
     {
         var data = {};
         $("input,select,textarea").each(function ()
         {
             var name = $(this).attr("name");
             if (name && name.indexOf('ligerui') == -1)
             {
                 data[name] = this.value;
             }
         });
         alert(JSON.stringify(data));
         
     }
     //set select box default value
     $("#Category").val("{{Category}}");
     $("#Operation").val("{{Operation}}");
     $("#AttachStatus").val("{{AttachStatus}}");
     $("#ReviewStatus").val("{{ReviewStatus}}");
     $("#BuildStatus").val("{{BuildStatus}}");
     $("#TestStatus").val("{{TestStatus}}");
     $("#MergeStatus").val("{{MergeStatus}}");
     $("#Status").val("{{Status}}");

     $("#CreatedDate").ligerDateEditor({ showTime: true, label: '', labelWidth: 100, labelAlign: 'left' });
     $("#DueDate").ligerDateEditor({ label: '', labelWidth: 100, labelAlign: 'left', initValue: '{{DueDate}}'});
     $("#PlanDueDate").ligerDateEditor({ label: '', labelWidth: 100, labelAlign: 'left', initValue: '{{PlanDueDate}}'});
     $("#RealDueDate").ligerDateEditor({ label: '', labelWidth: 100, labelAlign: 'left', initValue: '{{RealDueDate}}'});
     $("#Week").ligerDateEditor({ label: '', labelWidth: 100, labelAlign: 'left', initValue: '{{Week}}'});
     $("#CreatedDate").ligerGetDateEditorManager().setValue('{{CreatedDate}}');
     $("#DueDate").ligerGetDateEditorManager().setValue('{{DueDate}}'.replace(' 100:00:00',''));
     $("#PlanDueDate").ligerGetDateEditorManager().setValue('{{PlanDueDate}}'.replace(' 100:00:00',''));
     $("#RealDueDate").ligerGetDateEditorManager().setValue('{{RealDueDate}}'.replace(' 100:00:00',''));
     $("#Week").ligerGetDateEditorManager().setValue('{{Week}}'.replace(' 100:00:00',''));
     
    </script>

</body>
</html>
